# Existing Bots Packages vs v24 Package Version Comparison Report for Log4j Vulnerability Assessment

This repository provides a utility to generate a **Current Bots vs v24 Package Version Comparison Report** to assess Log4j vulnerability. 

Starting with the **Automation Anywhere v24 release**, new command packages were introduced that no longer include the **Apache Log4j2 library**. However, older command packages (v23 and earlier) may still contain the Log4j2 library. If you want to ensure that your bots use command packages without Log4j2, it is recommended to update them to the **v24 packages** or the latest default packages configured in your **Automation Anywhere Control Room**.

![v24Releasenotes](https://github.com/user-attachments/assets/f6c6fd74-57f5-4259-a90a-ccfb421b555c)


## Prerequisites

Before using this utility, ensure that the following requirements are met:

### 1. Python Installation
   - Install an appropriate version of **Python** on the system where you plan to execute the script.
   - Supported versions: **Python 2.x and 3.x**
   - Ensure the **"PATH" environment variable** includes the Python installation directory.
   - To verify the installation, run `python` in the command prompt. If the Python version is displayed, the environment variable is correctly set.

### 2. Required Python Modules

The following modules are needed for this script:
   
   - `json` (Built-in)
   - `inspect` (Built-in)
   - `logging` (Built-in)
   - `requests` (External)

To install the external module, run:
   ```sh
   pip install requests
   ```

### 3. Control Room Access
   - Ensure you have a **Control Room username** and an **API key** for a user with access to the bot folders that need to be analyzed.

## Steps to Execute

### 1. Import the Bot ZIP File
   - Import the file **`Export.BotPackagesReportV2.sikha.zip`** into your **Control Room**.

### 2. Run the Bot - **BotsAndPackages-ReportV2**
   - Provide the following inputs while executing the bot:

     ![inputs](https://github.com/user-attachments/assets/5bcae08b-9f45-47e8-a602-7560cd494099)

     
     ```yaml
     iStr1_PublicFolderIDs: List of comma seperated public FolderIDs. This fetches all bots inside this folder, including subfolders. (Recommend running the bot with PublicFolderID. Use PublicBotIDs only if you need a bot-specific report.). single folderID also will work.Please Avoid including folder IDs with a large amount of data in the multiple IDs list. This can be executed separately.
     iStr2_PublicBotIDs: List of comma-separated Bot IDs. Use only if you need reports for specific bots. Don't select if you are not providing any value for it. 
     iStr3_CRURL: Control Room URL
     iStr4_CRUserName: Control Room username
     iStr5_APIKey: Control Room user's API key
     iStr6_OuputFolderPath: Local directory where the generated report will be saved.
     ```

### 3. Review the Generated Report
   - The bot generates an **Excel report** (`BotPackagesReport.xlsx`) containing:

   - ![report](https://github.com/user-attachments/assets/0e61167d-e66b-4b87-ad7d-60722e634ae8)

     
     ```yaml
     BotID: Public file ID of the bot
     BotPath: Full path of the bot (including bot name)
     PackageName: Display name of the package
     PackageVersion: Version of the package inside the bot
     CR-Default-PackageVersion: Default package version configured at the Control Room level
     A360-v24-Default-PackageVersion: Package version specific to the v24 release
     ActionRequired: Indicates whether a package version update is necessary. You can decide whether it has to be updated to v24 version or CR default version. 
     ```

   - A **log file** (`botPackagesReportLogs.log`) is also generated in the output folder. You can use this for debugging purpose.

### Additional Information
#### Bot Dependencies:

![botDependencies](https://github.com/user-attachments/assets/f6cb3b01-5c57-46ab-a558-69209b57bfd8)


     

## Important Notes

- Ensure that best practices are followed and testing is conducted in a **development environment** before running it on the **production environment**.
- This bot can generate reports for any Control Room; just enter the appropriate Control Room details as input.



